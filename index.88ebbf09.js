!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequire3e4d;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequire3e4d=r);var a,o,s,l=r("eZ7d6"),c=r("2TvXO"),d=(c=r("2TvXO"),r("b62ED")),u=r("iU1Pc"),p=r("85mSR"),y="209b988e1e5a3c54f84bfbe290fdf3e2",m=document.getElementById("movie-list"),g=1e3;function f(e){return h.apply(this,arguments)}function h(){return(h=e(l)(e(c).mark((function t(n){var i,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(new Date).getTime(),i=new(0,d.Spinner)(p.opts).spin(m),e.next=4,fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(n));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error(r.statusText);case 7:return e.next=9,r.json().then((function(e){b(e)}));case 9:e.sent,i.stop(),s=(new Date).getTime(),g=s-o;case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function b(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.results[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;a=e.total_pages;var l="";v(s.id,y).then((function(e){var t=e.genres.map((function(e){return e.name}));l=t.join(", ");var n=new Date(e.release_date).getFullYear();m.insertAdjacentHTML("afterbegin",'<li data-film="'.concat(e.id,'" style="list-style-type:none;">\n        <div class="movie-container">\n        <img class="movie-image" src=https://image.tmdb.org/t/p/w500/').concat(e.poster_path||e.poster_path,'\n        onerror="this.onerror=null;this.src=\'https://www.csaff.org/wp-content/uploads/csaff-no-poster.jpg\';"\n        >\n        <p class="movie-title">').concat(e.name||e.title,'</p>\n        <div id="movie-info">\n        <p class="movie-categories">').concat(l||"No category info",' </p>\n        <p class="year-of-release">|').concat(n||"Unknown","</p>\n        </div>\n        </div>\n        </li>"))}))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}function v(e,t){return w.apply(this,arguments)}function w(){return(w=e(l)(e(c).mark((function t(n,i){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat(i));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error(r.statusText);case 5:return e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}f(y),document.getElementById("getDetails").addEventListener("click",(function(t){e(u).Report.info("Created by","Maksymilian_Bilski: Team Leader Urszula_Molska:Scrum Master Dariusz_Kusnieruk:Developer Konrad_Wlodarczyk:Developer","Close",(function(){}),{width:"325px",svgSize:"0px"})}));l=r("eZ7d6"),c=r("2TvXO"),u=r("iU1Pc");r("ljA1m");l=r("eZ7d6"),c=r("2TvXO"),c=r("2TvXO"),d=r("b62ED"),p=r("85mSR"),"https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(y);var _,L,x,T=document.getElementById("form-input"),k="https://api.themoviedb.org/3/search/movie?api_key=".concat(y,"&query="),E=document.querySelector(".header-form-error"),S=document.getElementById("search-form");function M(e){return C.apply(this,arguments)}function C(){return(C=e(l)(e(c).mark((function t(n){var i,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L=!0,E.innerHTML="",i=new(0,d.Spinner)(p.opts).spin(m),m.children.length>0&&(m.innerHTML=""),""===(r=T.value.toLowerCase())&&(f(y),D.innerHTML="",X(a),z(),L=!1),!r||""===r){e.next=11;break}return fetch(k+r+n).then((function(e){return e.json()})).then((function(e){0===e.results.length&&(error=E.innerText="Search result not successful. Enter the correct movie name and try again.",setTimeout((function(){E.innerText=""}),3e3)),b(e),B(),_=e.total_pages})).catch((function(e){console.log(e)})),r="",i.stop(),e.abrupt("return");case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}null!==S&&S.addEventListener("submit",(function(e){e.preventDefault(),M("")}));var H,j,q,A=1,N=document.getElementById("movie-list"),D=document.querySelector(".pagination"),O=document.querySelector(".pagination-box"),R=document.querySelector(".start-page-dots"),F=document.querySelector(".arrow-left"),I=document.querySelector(".arrow-right"),P=document.querySelector(".svg-right"),W=document.querySelector(".svg-left");function B(){setTimeout((function(){if(!0===L&&(Number(a)>Number(D.children[6].textContent)&&(D.children[6].textContent=a,Z()),A>_&&(x=1,Z()),j.textContent=_,_<10&&(U(),_<6)))for(var e=_;e<=D.children.length;e++){if(void 0===D.children[e])return;D.children[e].style.display="none",F.style.display="none",I.style.display="none"}!function(){for(var e=D.children.length;e<=_;e++)D.children.length<_&&(z(),I.style.display="block",F.style.display="block",H.style.display="flex",R.style.display="flex")}()}),10*g)}function U(){if(R.style.display="none",j.style.display="none",H.style.display="none",void 0!==q&&(q.style.display="none"),A>=4){if(void 0===D.children[0])return;"1"===D.children[0].textContent&&(D.children[0].style.display="none")}A<=a-4&&Number(D.children[D.children.length-1].textContent)===a&&(D.children[D.children.length-1].style.display="none"),window.innerWidth>767&&(R.style.display="flex",j.style.display="block",H.style.display="flex",void 0!==q&&(q.style.display="flex"))}document.addEventListener("load",(function(){window.innerWidth<=767&&U()})),window.addEventListener("resize",U),window.addEventListener("scroll",(function(e){if(void 0===e.path)return;var t=e.path[1].pageYOffset;window.sessionStorage.setItem("SCROLLPOS",t)})),window.addEventListener("DOMContentLoaded",(function(){var e=sessionStorage.getItem("SCROLLPOS")||0;g>=1e3&&setTimeout((function(){window.scroll({top:e,x:0})}),g/10),g<1e3&&setTimeout((function(){window.scroll({top:e,x:0})}),g)})),R.style.display="flex",R.style.height="40px",R.style.alignItems="center",D.style.display="flex",D.style.height="40px",O.style.display="flex",O.style.alignItems="center",F.style.visibility="hidden",F.style.backgroundColor="transparent",F.style.border="none",F.style.borderRadius="5px",F.style.width="40px",F.style.height="40px",I.style.marginLeft="10px",I.style.border="none",I.style.borderRadius="5px",I.style.backgroundColor="transparent",I.style.width="40px",I.style.height="40px",W.addEventListener("mouseout",(function(e){e.target.style.transition="all 150ms",e.target.style.fill="black",F.style.backgroundColor="transparent"})),W.addEventListener("mouseover",(function(e){e.target.style.transition="all 150ms",e.target.style.fill="#ff6b08",e.target.style.cursor="pointer",F.style.backgroundColor="#F7F7F7"})),P.addEventListener("mouseout",(function(e){e.target.style.transition="all 150ms",e.target.style.fill="black",I.style.backgroundColor="transparent"})),P.addEventListener("mouseover",(function(e){e.target.style.transition="all 150ms",e.target.style.fill="#ff6b08",e.target.style.cursor="pointer",I.style.backgroundColor="#F7F7F7"})),W.addEventListener("click",(function(){B(),Z()})),P.addEventListener("click",(function(){B(),V(),window.innerWidth<=767&&U()}));function z(){for(var e=0;e<=D.children.length-1;e++)D.children[e].style.display="block",D.children[e].style.marginLeft="2px",D.children[e].style.backgroundColor="transparent",D.children[e].style.border="none",D.children[e].style.cursor="pointer",D.children[e].style.width="40px",D.children[e].style.height="40px","..."===D.children[e].textContent&&(D.children[e].style.cursor="default",D.children[e].style.width="16px",D.children[e].style.height="40px",D.children[e].style.display="flex",D.children[e].style.alignItems="center"),D.children[e].classList.contains("end-dots")||D.children[e].classList.contains("begining-dots")||(D.children[e].addEventListener("mouseover",(function(e){e.target.style.transition="all 250ms",e.target.style.backgroundColor="#ff6b08",e.target.style.borderRadius="5px",e.target.style.color="#FFFFFF"})),D.children[e].addEventListener("mouseout",(function(e){e.target.style.backgroundColor="transparent",e.target.style.borderRadius="0px",e.target.style.color="#000000"}))),D.children[e].classList.contains("end-dots")&&(D.children[e].style.marginLeft="4px",D.children[e].style.marginRight="4px",D.children[e].style.border="none",window.innerWidth<=767&&U()),D.children[e].addEventListener("click",K),R.addEventListener("click",K)}function X(e){D.insertAdjacentHTML("beforeend",'<span class="end-dots">...</span>'),D.insertAdjacentHTML("beforeend",'<button class="last-page">'.concat(e,"</button>")),j=document.querySelector(".last-page");for(var t=5;t>=1;t--)D.insertAdjacentHTML("afterbegin",'<button class="pagination-button" style="margin-left:2px;">'.concat(t,"</button>"));j=document.querySelector(".last-page"),H=document.querySelector(".end-dots")}function V(){A=x=a,D.innerHTML="",R.innerHTML="";for(var e=a-4;e<=a;e++)D.insertAdjacentHTML("beforeend",'<button class="pagination-button">'.concat(e,"</button>"));I.style.transition="all 250ms",I.style.visibility="hidden",F.style.transition="all 250ms",F.style.visibility="visible",D.insertAdjacentHTML("afterbegin",'<span class="begining-dots" style="cursor: default;height: 100%; width: 16px; display: flex; align-items:center;justify-content: center; margin: 0;">...</span>'),D.insertAdjacentHTML("afterbegin",'<button class="pagination-button">'.concat(1,"</button>")),q=document.querySelector(".begining-dots"),z(),window.innerWidth<=767&&U()}function Z(){return G.apply(this,arguments)}function G(){return(G=e(l)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(x=A=1,D.innerHTML="",R.innerHTML="",n=5;n>=1;n--)D.insertAdjacentHTML("afterbegin",'<button class="pagination-button">'.concat(n,"</button>"));I.style.transition="all 250ms",I.style.visibility="visible",F.style.transition="all 250ms",F.style.visibility="hidden",D.insertAdjacentHTML("beforeend",'<span class="end-dots">...</span>'),D.insertAdjacentHTML("beforeend",'<button class="pagination-button last-page"  style="background-color: transparent; border: none;">'.concat(a,"</button>")),z(),H=document.querySelector(".end-dots"),j=document.querySelector(".last-page"),window.innerWidth<=767&&U();case 14:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function K(e){if(e.target.classList.contains("begining-dots")&&u.Notify.info("".concat(A-1)+" pages backward"),"SPAN"!==e.target.nodeName&&!e.target.classList.contains(".beginig-dots")){x=A=e.target.textContent,D.innerHTML="",R.innerHTML="",A>=4&&A<=a-4&&(F.style.visibility="visible",I.style.visibility="visible",R.innerHTML='<span class="begining-dots" style="cursor: default;height: 100%; width: 16px; display: flex; align-items:center;justify-content: center;  margin: 0;">...</span>',R.insertAdjacentHTML("afterbegin",'<button class="pagination-button" style="cursor: pointer; height: 40px; width: 40px;">'.concat(1,"</button>")),D.insertAdjacentHTML("afterbegin",'<button class="pagination-button">'.concat(a,"</button>")),D.insertAdjacentHTML("afterbegin",'<span class="end-dots">...</span>'),H=document.querySelector(".end-dots")),A<=4&&(R.innerHTML=""),A<=3&&(F.style.transition="all 250ms",F.style.visibility="hidden"),A>=a-3&&(I.style.transition="all 250ms",I.style.visibility="hidden",window.innerWidth,U());for(var t=Number(A)+2;t>=Number(A)-2;t--){if(Number(A)<=3)return Z(),x=A=e.currentTarget.textContent;if(Number(A)>=a-3)return V(),x=A=e.currentTarget.textContent;D.insertAdjacentHTML("afterbegin",'<button class="pagination-button">'.concat(t,"</button>")),R.children.length>=1&&(R.children[0].style.backgroundColor="transparent",R.children[0].style.border="none",R.children[0].addEventListener("mouseover",(function(e){e.target.style.transition="all 250ms",e.target.style.backgroundColor="#ff6b08",e.target.style.borderRadius="4px"})),R.children[0].addEventListener("mouseout",(function(e){e.target.style.backgroundColor="transparent",e.target.style.borderRadius="0px"})),R.children[1].style.border="none",R.children[1].style.backgroundColor="transparent")}}}g>=1e3?setTimeout((function(){X(a),z()}),g/10):g<1e3&&setTimeout((function(){X(a),z()}),g),D.addEventListener("click",(function(e){if("DIV"!==e.target.nodeName){if("SPAN"===e.target.nodeName&&!e.target.classList.contains("begining-dots"))return u.Notify.info("".concat(a-A)+" pages left");if("SPAN"!==e.target.nodeName&&D.children.length>0){if(!0===L)return M("&page=".concat(x)),B(),void z();N.innerHTML="",f(y+"&page=".concat(x)),z();var t=sessionStorage.getItem("SCROLLPOS");g>=1e3&&setTimeout((function(){window.scroll({top:t,x:0,behavior:"smooth"})}),g/10),g<1e3&&setTimeout((function(){window.scroll({top:t,x:0,behavior:"smooth"})}),10*g)}}})),r("85mSR");d=r("b62ED"),p=r("85mSR");var Q=r("ipPc5"),Y=document.querySelector("[data-modal]");m.addEventListener("click",(function(e){var t=new(0,d.Spinner)(p.opts).spin(m);if("IMG"===e.target.tagName){var n=e.target.parentNode.parentNode.dataset.film;document.querySelector('[data-film="'.concat(n,'"]'));v(n,y).then((function(e){var n,i=e.popularity;n=e.genres.map((function(e){return e.name})).join(", "),Y.innerHTML="";var r='\n    <div class="modal">\n      <button type="button" class="modal__close-btn" data-modal-close>&#10005</button>\n      <div class="modal__img">\n        <img class="modal__img-picture"\n          src=https://image.tmdb.org/t/p/w500/'.concat(e.poster_path||e.poster_path,'\n          alt="obraz"/>\n      </div>\n      <div class="modal__content">\n        <h2 class="modal__head"></h2>\n        <ul class="modal__list">\n          <li class="modal__item">\n            <span class="modal__votes modal__parameters">Vote / Votes</span>\n            <div class="modal_wrapper">\n              <span class="modal__rating">').concat(e.vote_average.toFixed(1),'</span> /\n              <span class="modal__votes-number">').concat(e.vote_count,'</span>\n            </div>\n          </li>\n          <li class="modal__item">\n            <span class="modal__popularity modal__parameters">Popularity</span>\n            <span class="modal__popularity-total">').concat(i.toFixed(1),'</span>\n          </li>\n          <li class="modal__item">\n            <span class="modal__title modal__parameters">Original Title</span>\n            <span class="modal__title-original">').concat(e.original_title,'</span>\n          </li>\n          <li class="modal__item">\n            <span class="modal__genre modal__parameters">Genre</span>\n            <span class="modal__genre-description">').concat(n,'</span>\n          </li>\n        </ul>\n  \n        <p class="modal__about">About</p>\n        <p class="modal__text">').concat(e.overview,'</p>\n  \n        <div class="modal__button-container">\n          <button class="modal__button-watched modal__buttons" type="button">\n            ADD TO WATCHED\n          </button>\n          <button class="modal__button-queue modal__buttons" type="button">\n            ADD TO QUEUE\n          </button>\n        </div>\n        </div>\n      </div>');Y.innerHTML+=r,Y.classList.toggle("is-hidden"),t.stop(),(0,Q.addToWatched)(e),(0,Q.addToQueue)(e),document.querySelector("[data-modal-close]").addEventListener("click",(function(){Y.classList.add("is-hidden")})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&Y.classList.add("is-hidden")}))})).catch((function(e){return console.log(e)}))}else t.stop()})),r("ipPc5");var J=document.getElementById("btn-watched"),$=document.getElementById("btn-queue");null!==J&&J.addEventListener("click",($.classList.replace("btn-orange","btn-white"),$.classList.remove("btn-active"),J.classList.replace("btn-white","btn-orange"),void J.classList.add("btn-active"))),null!==$&&$.addEventListener("click",($.classList.replace("btn-orange","btn-white"),$.classList.remove("btn-active"),J.classList.replace("btn-white","btn-orange"),void J.classList.add("btn-active"))),r("ljA1m")}();
//# sourceMappingURL=index.88ebbf09.js.map
