!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequire3e4d;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},t.parcelRequire3e4d=a),a("ceBZw");var o=a("eZ7d6"),s=a("2TvXO"),r=a("iU1Pc"),l=a("ceBZw");a("ljA1m");o=a("eZ7d6"),a("2TvXO"),s=a("2TvXO"),l=a("ceBZw");var c,d,u,p=a("b62ED"),g=a("85mSR"),y=("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(l.API_KEY),document.getElementById("form-input")),f="https://api.themoviedb.org/3/search/movie?api_key=".concat(l.API_KEY,"&query="),m=document.querySelector(".header-form-error"),b=document.getElementById("search-form");function h(e){return v.apply(this,arguments)}function v(){return(v=e(o)(e(s).mark((function t(n){var i,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=!0,m.innerHTML="",i=new(0,p.Spinner)(g.opts).spin(l.getMovie),l.getMovie.children.length>0&&(l.getMovie.innerHTML=""),""===(a=y.value.toLowerCase())&&((0,l.fetchMovies)(l.API_KEY),E.innerHTML="",N(l.totalPages),q(),d=!1),!a||""===a){e.next=11;break}return fetch(f+a+n).then((function(e){return e.json()})).then((function(e){0===e.results.length&&(error=m.innerText="Search result not successful. Enter the correct movie name and try again.",setTimeout((function(){m.innerText=""}),3e3)),(0,l.start)(e),A(),c=e.total_pages})).catch((function(e){console.log(e)})),a="",i.stop(),e.abrupt("return");case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}null!==b&&b.addEventListener("submit",(function(e){e.preventDefault(),h("")}));var L,_,w,x=1,T=document.getElementById("movie-list"),E=document.querySelector(".pagination"),M=document.querySelector(".pagination-box"),k=document.querySelector(".start-page-dots"),S=document.querySelector(".arrow-left"),P=document.querySelector(".arrow-right"),C=document.querySelector(".svg-right"),H=document.querySelector(".svg-left");function A(){setTimeout((function(){if(!0===d&&(Number(l.totalPages)>Number(E.children[6].textContent)&&(E.children[6].textContent=l.totalPages,I()),x>c&&(u=1,I()),_.textContent=c,c<10&&(D(),c<6)))for(var e=c;e<=E.children.length;e++){if(void 0===E.children[e])return;E.children[e].style.display="none",S.style.display="none",P.style.display="none"}!function(){for(var e=E.children.length;e<=c;e++)E.children.length<c&&(q(),P.style.display="block",S.style.display="block",L.style.display="flex",k.style.display="flex")}()}),10*l.timeDifference)}function D(){if(k.style.display="none",_.style.display="none",L.style.display="none",void 0!==w&&(w.style.display="none"),x>=4){if(void 0===E.children[0])return;"1"===E.children[0].textContent&&(E.children[0].style.display="none")}x<=l.totalPages-4&&Number(E.children[E.children.length-1].textContent)===l.totalPages&&(E.children[E.children.length-1].style.display="none"),window.innerWidth>767&&(k.style.display="flex",_.style.display="block",L.style.display="flex",void 0!==w&&(w.style.display="flex"))}document.addEventListener("load",(function(){window.innerWidth<=767&&D()})),window.addEventListener("resize",D),window.addEventListener("scroll",(function(e){if(void 0===e.path)return;var t=e.path[1].pageYOffset;window.sessionStorage.setItem("SCROLLPOS",t)})),window.addEventListener("DOMContentLoaded",(function(){var e=sessionStorage.getItem("SCROLLPOS")||0;l.timeDifference>=1e3&&setTimeout((function(){window.scroll({top:e,x:0})}),l.timeDifference/10),l.timeDifference<1e3&&setTimeout((function(){window.scroll({top:e,x:0})}),l.timeDifference)})),k.style.display="flex",k.style.height="40px",k.style.alignItems="center",E.style.display="flex",E.style.height="40px",M.style.display="flex",M.style.alignItems="center",S.style.visibility="hidden",S.style.backgroundColor="transparent",S.style.border="none",S.style.borderRadius="5px",S.style.width="40px",S.style.height="40px",P.style.marginLeft="10px",P.style.border="none",P.style.borderRadius="5px",P.style.backgroundColor="transparent",P.style.width="40px",P.style.height="40px",H.addEventListener("mouseout",(function(e){e.target.style.transition="all 150ms",e.target.style.fill="black",S.style.backgroundColor="transparent"})),H.addEventListener("mouseover",(function(e){e.target.style.transition="all 150ms",e.target.style.fill="#ff6b08",e.target.style.cursor="pointer",S.style.backgroundColor="#F7F7F7"})),C.addEventListener("mouseout",(function(e){e.target.style.transition="all 150ms",e.target.style.fill="black",P.style.backgroundColor="transparent"})),C.addEventListener("mouseover",(function(e){e.target.style.transition="all 150ms",e.target.style.fill="#ff6b08",e.target.style.cursor="pointer",P.style.backgroundColor="#F7F7F7"})),H.addEventListener("click",(function(){A(),I()})),C.addEventListener("click",(function(){A(),j(),window.innerWidth<=767&&D()}));function q(){for(var e=0;e<=E.children.length-1;e++)E.children[e].style.display="block",E.children[e].style.marginLeft="2px",E.children[e].style.backgroundColor="transparent",E.children[e].style.border="none",E.children[e].style.cursor="pointer",E.children[e].style.width="40px",E.children[e].style.height="40px","..."===E.children[e].textContent&&(E.children[e].style.cursor="default",E.children[e].style.width="16px",E.children[e].style.height="40px",E.children[e].style.display="flex",E.children[e].style.alignItems="center"),E.children[e].classList.contains("end-dots")||E.children[e].classList.contains("begining-dots")||(E.children[e].addEventListener("mouseover",(function(e){e.target.style.transition="all 250ms",e.target.style.backgroundColor="#ff6b08",e.target.style.borderRadius="5px",e.target.style.color="#FFFFFF"})),E.children[e].addEventListener("mouseout",(function(e){e.target.style.backgroundColor="transparent",e.target.style.borderRadius="0px",e.target.style.color="#000000"}))),E.children[e].classList.contains("end-dots")&&(E.children[e].style.marginLeft="4px",E.children[e].style.marginRight="4px",E.children[e].style.border="none",window.innerWidth<=767&&D()),E.children[e].addEventListener("click",F),k.addEventListener("click",F)}function N(e){E.insertAdjacentHTML("beforeend",'<span class="end-dots">...</span>'),E.insertAdjacentHTML("beforeend",'<button class="last-page">'.concat(e,"</button>")),_=document.querySelector(".last-page");for(var t=5;t>=1;t--)E.insertAdjacentHTML("afterbegin",'<button class="pagination-button" style="margin-left:2px;">'.concat(t,"</button>"));_=document.querySelector(".last-page"),L=document.querySelector(".end-dots")}function j(){x=u=l.totalPages,E.innerHTML="",k.innerHTML="";for(var e=l.totalPages-4;e<=l.totalPages;e++)E.insertAdjacentHTML("beforeend",'<button class="pagination-button">'.concat(e,"</button>"));P.style.transition="all 250ms",P.style.visibility="hidden",S.style.transition="all 250ms",S.style.visibility="visible",E.insertAdjacentHTML("afterbegin",'<span class="begining-dots" style="cursor: default;height: 100%; width: 16px; display: flex; align-items:center;justify-content: center; margin: 0;">...</span>'),E.insertAdjacentHTML("afterbegin",'<button class="pagination-button">'.concat(1,"</button>")),w=document.querySelector(".begining-dots"),q(),window.innerWidth<=767&&D()}function I(){return O.apply(this,arguments)}function O(){return(O=e(o)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=x=1,E.innerHTML="",k.innerHTML="",n=5;n>=1;n--)E.insertAdjacentHTML("afterbegin",'<button class="pagination-button">'.concat(n,"</button>"));P.style.transition="all 250ms",P.style.visibility="visible",S.style.transition="all 250ms",S.style.visibility="hidden",E.insertAdjacentHTML("beforeend",'<span class="end-dots">...</span>'),E.insertAdjacentHTML("beforeend",'<button class="pagination-button last-page"  style="background-color: transparent; border: none;">'.concat(l.totalPages,"</button>")),q(),L=document.querySelector(".end-dots"),_=document.querySelector(".last-page"),window.innerWidth<=767&&D();case 14:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function F(e){if(e.target.classList.contains("begining-dots")&&r.Notify.info("".concat(x-1)+" pages backward"),"SPAN"!==e.target.nodeName&&!e.target.classList.contains(".beginig-dots")){u=x=e.target.textContent,E.innerHTML="",k.innerHTML="",x>=4&&x<=l.totalPages-4&&(S.style.visibility="visible",P.style.visibility="visible",k.innerHTML='<span class="begining-dots" style="cursor: default;height: 100%; width: 16px; display: flex; align-items:center;justify-content: center;  margin: 0;">...</span>',k.insertAdjacentHTML("afterbegin",'<button class="pagination-button" style="cursor: pointer; height: 40px; width: 40px;">'.concat(1,"</button>")),E.insertAdjacentHTML("afterbegin",'<button class="pagination-button">'.concat(l.totalPages,"</button>")),E.insertAdjacentHTML("afterbegin",'<span class="end-dots">...</span>'),L=document.querySelector(".end-dots")),x<=4&&(k.innerHTML=""),x<=3&&(S.style.transition="all 250ms",S.style.visibility="hidden"),x>=l.totalPages-3&&(P.style.transition="all 250ms",P.style.visibility="hidden",window.innerWidth,D());for(var t=Number(x)+2;t>=Number(x)-2;t--){if(Number(x)<=3)return I(),u=x=e.currentTarget.textContent;if(Number(x)>=l.totalPages-3)return j(),u=x=e.currentTarget.textContent;E.insertAdjacentHTML("afterbegin",'<button class="pagination-button">'.concat(t,"</button>")),k.children.length>=1&&(k.children[0].style.backgroundColor="transparent",k.children[0].style.border="none",k.children[0].addEventListener("mouseover",(function(e){e.target.style.transition="all 250ms",e.target.style.backgroundColor="#ff6b08",e.target.style.borderRadius="4px"})),k.children[0].addEventListener("mouseout",(function(e){e.target.style.backgroundColor="transparent",e.target.style.borderRadius="0px"})),k.children[1].style.border="none",k.children[1].style.backgroundColor="transparent")}}}l.timeDifference>=1e3?setTimeout((function(){N(l.totalPages),q()}),l.timeDifference/10):l.timeDifference<1e3&&setTimeout((function(){N(l.totalPages),q()}),l.timeDifference),E.addEventListener("click",(function(e){if("DIV"!==e.target.nodeName){if("SPAN"===e.target.nodeName&&!e.target.classList.contains("begining-dots"))return r.Notify.info("".concat(l.totalPages-x)+" pages left");if("SPAN"!==e.target.nodeName&&E.children.length>0){if(!0===d)return h("&page=".concat(u)),A(),void q();T.innerHTML="",l.fetchMovies(l.API_KEY+"&page=".concat(u)),q();var t=sessionStorage.getItem("SCROLLPOS");l.timeDifference>=1e3&&setTimeout((function(){window.scroll({top:t,x:0,behavior:"smooth"})}),l.timeDifference/10),l.timeDifference<1e3&&setTimeout((function(){window.scroll({top:t,x:0,behavior:"smooth"})}),10*l.timeDifference)}}})),a("85mSR");l=a("ceBZw"),p=a("b62ED"),g=a("85mSR");var R=a("ipPc5"),B=document.querySelector("[data-modal]");l.getMovie.addEventListener("click",(function(e){var t=new(0,p.Spinner)(g.opts).spin(l.getMovie);if("IMG"===e.target.tagName){var n=e.target.parentNode.parentNode.dataset.film;document.querySelector('[data-film="'.concat(n,'"]'));(0,l.fetchDetails)(n,l.API_KEY).then((function(e){var n,i=e.popularity;n=e.genres.map((function(e){return e.name})).join(", "),B.innerHTML="";var a='\n    <div class="modal">\n      <button type="button" class="modal__close-btn" data-modal-close>&#10005</button>\n      <div class="modal__img">\n        <img class="modal__img-picture"\n          src=https://image.tmdb.org/t/p/w500/'.concat(e.poster_path||e.poster_path,'\n          alt="obraz"/>\n      </div>\n      <div class="modal__content">\n        <h2 class="modal__head"></h2>\n        <ul class="modal__list">\n          <li class="modal__item">\n            <span class="modal__votes modal__parameters">Vote / Votes</span>\n            <div class="modal_wrapper">\n              <span class="modal__rating">').concat(e.vote_average.toFixed(1),'</span> /\n              <span class="modal__votes-number">').concat(e.vote_count,'</span>\n            </div>\n          </li>\n          <li class="modal__item">\n            <span class="modal__popularity modal__parameters">Popularity</span>\n            <span class="modal__popularity-total">').concat(i.toFixed(1),'</span>\n          </li>\n          <li class="modal__item">\n            <span class="modal__title modal__parameters">Original Title</span>\n            <span class="modal__title-original">').concat(e.original_title,'</span>\n          </li>\n          <li class="modal__item">\n            <span class="modal__genre modal__parameters">Genre</span>\n            <span class="modal__genre-description">').concat(n,'</span>\n          </li>\n        </ul>\n  \n        <p class="modal__about">About</p>\n        <p class="modal__text">').concat(e.overview,'</p>\n  \n        <div class="modal__button-container">\n          <button class="modal__button-watched modal__buttons" type="button">\n            ADD TO WATCHED\n          </button>\n          <button class="modal__button-queue modal__buttons" type="button">\n            ADD TO QUEUE\n          </button>\n        </div>\n        </div>\n      </div>');B.innerHTML+=a,B.classList.toggle("is-hidden"),t.stop(),(0,R.addToWatched)(e),(0,R.addToQueue)(e),document.querySelector("[data-modal-close]").addEventListener("click",(function(){B.classList.add("is-hidden")})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&B.classList.add("is-hidden")}))})).catch((function(e){return console.log(e)}))}else t.stop()})),a("ipPc5");var W=document.getElementById("btn-watched"),Y=document.getElementById("btn-queue");null!==W&&W.addEventListener("click",(Y.classList.replace("btn-orange","btn-white"),Y.classList.remove("btn-active"),W.classList.replace("btn-white","btn-orange"),void W.classList.add("btn-active"))),null!==Y&&Y.addEventListener("click",(Y.classList.replace("btn-orange","btn-white"),Y.classList.remove("btn-active"),W.classList.replace("btn-white","btn-orange"),void W.classList.add("btn-active"))),a("ljA1m")}();
//# sourceMappingURL=index.f0f68eb2.js.map
