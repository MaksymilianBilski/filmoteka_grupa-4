function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=e.parcelRequire3e4d;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){r[t]=e},e.parcelRequire3e4d=o);var i=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new C(r||[]);return o(a,"_invoke",{value:T(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var p="suspendedStart",h="executing",f="completed",y={};function g(){}function m(){}function b(){}var v={};c(v,a,(function(){return this}));var w=Object.getPrototypeOf,L=w&&w(w(M([])));L&&L!==n&&r.call(L,a)&&(v=L);var _=b.prototype=g.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,i,a,s){var l=u(t[o],t,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function T(t,e,n){var r=p;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=u(t,e,n);if("normal"===l.type){if(r=n.done?f:"suspendedYield",l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=u(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function M(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:e,done:!0}}return m.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(E.prototype),c(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(_),c(_,l,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=M,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}({});try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}var a=o("dCvm9"),s=o("eWCmQ"),l=o("jdSc9");let c,d,u,p=document.getElementById("movie-list"),h=1e3;async function f(t){d=(new Date).getTime();const e=new(0,a.Spinner)(l.opts).spin(p),n=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${t}`);if(!n.ok)throw new Error(n.statusText);await n.json().then((t=>{y(t)}));e.stop(),u=(new Date).getTime(),h=u-d}function y(t){for(const e of t.results){c=t.total_pages;let n="";g(e.id,"209b988e1e5a3c54f84bfbe290fdf3e2").then((t=>{const e=t.genres.map((t=>t.name));n=e.join(", ");const r=new Date(t.release_date).getFullYear();p.insertAdjacentHTML("afterbegin",`<li data-film="${t.id}" style="list-style-type:none;">\n        <div class="movie-container">\n        <img class="movie-image" src=https://image.tmdb.org/t/p/w500/${t.poster_path||t.poster_path}\n        onerror="this.onerror=null;this.src='https://www.csaff.org/wp-content/uploads/csaff-no-poster.jpg';"\n        >\n        <p class="movie-title">${t.name||t.title}</p>\n        <div id="movie-info">\n        <p class="movie-categories">${n||"No category info"} </p>\n        <p class="year-of-release">|${r||"Unknown"}</p>\n        </div>\n        </div>\n        </li>`)}))}}async function g(t,e){const n=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=${e}`);if(!n.ok)throw new Error(n.statusText);return await n.json()}f("209b988e1e5a3c54f84bfbe290fdf3e2");document.getElementById("getDetails").addEventListener("click",(e=>{t(s).Report.info("Created by","Maksymilian_Bilski: Team Leader Urszula_Molska:Scrum Master Dariusz_Kusnieruk:Developer Konrad_Wlodarczyk:Developer","Close",(function(){}),{width:"325px",svgSize:"0px"})}));s=o("eWCmQ");o("6mpqm");a=o("dCvm9"),l=o("jdSc9");const m=document.getElementById("form-input");let b,v;const w=document.querySelector(".header-form-error"),L=document.getElementById("search-form");async function _(t){v=!0,w.innerHTML="";const e=new(0,a.Spinner)(l.opts).spin(p);p.children.length>0&&(p.innerHTML="");let n=m.value.toLowerCase();if(""===n&&(f("209b988e1e5a3c54f84bfbe290fdf3e2"),C.innerHTML="",D(c),I(),v=!1),n&&""!==n)return fetch("https://api.themoviedb.org/3/search/movie?api_key=209b988e1e5a3c54f84bfbe290fdf3e2&query="+n+t).then((t=>t.json())).then((t=>{0===t.results.length&&(error=w.innerText="Search result not successful. Enter the correct movie name and try again.",setTimeout((()=>{w.innerText=""}),3e3)),y(t),F(),b=t.total_pages})).catch((t=>{console.log(t)})),n="",void e.stop()}let x;null!==L&&L.addEventListener("submit",(t=>{t.preventDefault(),_("")}));let E,T,k,S=1,j=document.getElementById("movie-list");const C=document.querySelector(".pagination"),M=document.querySelector(".pagination-box"),N=document.querySelector(".start-page-dots"),H=document.querySelector(".arrow-left"),O=document.querySelector(".arrow-right"),q=document.querySelector(".svg-right"),$=document.querySelector(".svg-left");function F(){setTimeout((()=>{if(!0===v&&(Number(c)>Number(C.children[6].textContent)&&(C.children[6].textContent=c,P()),S>b&&(x=1,P()),T.textContent=b,b<10&&(A(),b<6)))for(let t=b;t<=C.children.length;t++){if(void 0===C.children[t])return;C.children[t].style.display="none",H.style.display="none",O.style.display="none"}!function(){for(let t=C.children.length;t<=b;t++)C.children.length<b&&(I(),O.style.display="block",H.style.display="block",E.style.display="flex",N.style.display="flex")}()}),10*h)}function A(){if(N.style.display="none",T.style.display="none",E.style.display="none",void 0!==k&&(k.style.display="none"),S>=4){if(void 0===C.children[0])return;"1"===C.children[0].textContent&&(C.children[0].style.display="none")}S<=c-4&&Number(C.children[C.children.length-1].textContent)===c&&(C.children[C.children.length-1].style.display="none"),window.innerWidth>767&&(N.style.display="flex",T.style.display="block",E.style.display="flex",void 0!==k&&(k.style.display="flex"))}document.addEventListener("load",(()=>{window.innerWidth<=767&&A()})),window.addEventListener("resize",A),window.addEventListener("scroll",(function(t){if(void 0===t.path)return;const e=t.path[1].pageYOffset;window.sessionStorage.setItem("SCROLLPOS",e)})),window.addEventListener("DOMContentLoaded",(()=>{const t=sessionStorage.getItem("SCROLLPOS")||0;h>=1e3&&setTimeout((()=>{window.scroll({top:t,x:0})}),h/10),h<1e3&&setTimeout((()=>{window.scroll({top:t,x:0})}),h)})),N.style.display="flex",N.style.height="40px",N.style.alignItems="center",C.style.display="flex",C.style.height="40px",M.style.display="flex",M.style.alignItems="center",H.style.visibility="hidden",H.style.backgroundColor="transparent",H.style.border="none",H.style.borderRadius="5px",H.style.width="40px",H.style.height="40px",O.style.marginLeft="10px",O.style.border="none",O.style.borderRadius="5px",O.style.backgroundColor="transparent",O.style.width="40px",O.style.height="40px",$.addEventListener("mouseout",(t=>{t.target.style.transition="all 150ms",t.target.style.fill="black",H.style.backgroundColor="transparent"})),$.addEventListener("mouseover",(t=>{t.target.style.transition="all 150ms",t.target.style.fill="#ff6b08",t.target.style.cursor="pointer",H.style.backgroundColor="#F7F7F7"})),q.addEventListener("mouseout",(t=>{t.target.style.transition="all 150ms",t.target.style.fill="black",O.style.backgroundColor="transparent"})),q.addEventListener("mouseover",(t=>{t.target.style.transition="all 150ms",t.target.style.fill="#ff6b08",t.target.style.cursor="pointer",O.style.backgroundColor="#F7F7F7"})),$.addEventListener("click",(()=>{F(),P()})),q.addEventListener("click",(()=>{F(),R(),window.innerWidth<=767&&A()}));function I(){for(let t=0;t<=C.children.length-1;t++)C.children[t].style.display="block",C.children[t].style.marginLeft="2px",C.children[t].style.backgroundColor="transparent",C.children[t].style.border="none",C.children[t].style.cursor="pointer",C.children[t].style.width="40px",C.children[t].style.height="40px","..."===C.children[t].textContent&&(C.children[t].style.cursor="default",C.children[t].style.width="16px",C.children[t].style.height="40px",C.children[t].style.display="flex",C.children[t].style.alignItems="center"),C.children[t].classList.contains("end-dots")||C.children[t].classList.contains("begining-dots")||(C.children[t].addEventListener("mouseover",(t=>{t.target.style.transition="all 250ms",t.target.style.backgroundColor="#ff6b08",t.target.style.borderRadius="5px",t.target.style.color="#FFFFFF"})),C.children[t].addEventListener("mouseout",(t=>{t.target.style.backgroundColor="transparent",t.target.style.borderRadius="0px",t.target.style.color="#000000"}))),C.children[t].classList.contains("end-dots")&&(C.children[t].style.marginLeft="4px",C.children[t].style.marginRight="4px",C.children[t].style.border="none",window.innerWidth<=767&&A()),C.children[t].addEventListener("click",W),N.addEventListener("click",W)}function D(t){C.insertAdjacentHTML("beforeend",'<span class="end-dots">...</span>'),C.insertAdjacentHTML("beforeend",`<button class="last-page">${t}</button>`),T=document.querySelector(".last-page");for(let t=5;t>=1;t--)C.insertAdjacentHTML("afterbegin",`<button class="pagination-button" style="margin-left:2px;">${t}</button>`);T=document.querySelector(".last-page"),E=document.querySelector(".end-dots")}function R(){S=x=c,C.innerHTML="",N.innerHTML="";for(let t=c-4;t<=c;t++)C.insertAdjacentHTML("beforeend",`<button class="pagination-button">${t}</button>`);O.style.transition="all 250ms",O.style.visibility="hidden",H.style.transition="all 250ms",H.style.visibility="visible",C.insertAdjacentHTML("afterbegin",'<span class="begining-dots" style="cursor: default;height: 100%; width: 16px; display: flex; align-items:center;justify-content: center; margin: 0;">...</span>'),C.insertAdjacentHTML("afterbegin",'<button class="pagination-button">1</button>'),k=document.querySelector(".begining-dots"),I(),window.innerWidth<=767&&A()}async function P(){x=S=1,C.innerHTML="",N.innerHTML="";for(let t=5;t>=1;t--)C.insertAdjacentHTML("afterbegin",`<button class="pagination-button">${t}</button>`);O.style.transition="all 250ms",O.style.visibility="visible",H.style.transition="all 250ms",H.style.visibility="hidden",C.insertAdjacentHTML("beforeend",'<span class="end-dots">...</span>'),C.insertAdjacentHTML("beforeend",`<button class="pagination-button last-page"  style="background-color: transparent; border: none;">${c}</button>`),I(),E=document.querySelector(".end-dots"),T=document.querySelector(".last-page"),window.innerWidth<=767&&A()}function W(t){if(t.target.classList.contains("begining-dots")&&s.Notify.info(S-1+" pages backward"),"SPAN"!==t.target.nodeName&&!t.target.classList.contains(".beginig-dots")){x=S=t.target.textContent,C.innerHTML="",N.innerHTML="",S>=4&&S<=c-4&&(H.style.visibility="visible",O.style.visibility="visible",N.innerHTML='<span class="begining-dots" style="cursor: default;height: 100%; width: 16px; display: flex; align-items:center;justify-content: center;  margin: 0;">...</span>',N.insertAdjacentHTML("afterbegin",'<button class="pagination-button" style="cursor: pointer; height: 40px; width: 40px;">1</button>'),C.insertAdjacentHTML("afterbegin",`<button class="pagination-button">${c}</button>`),C.insertAdjacentHTML("afterbegin",'<span class="end-dots">...</span>'),E=document.querySelector(".end-dots")),S<=4&&(N.innerHTML=""),S<=3&&(H.style.transition="all 250ms",H.style.visibility="hidden"),S>=c-3&&(O.style.transition="all 250ms",O.style.visibility="hidden",window.innerWidth,A());for(let e=Number(S)+2;e>=Number(S)-2;e--){if(Number(S)<=3)return P(),x=S=t.currentTarget.textContent;if(Number(S)>=c-3)return R(),x=S=t.currentTarget.textContent;C.insertAdjacentHTML("afterbegin",`<button class="pagination-button">${e}</button>`),N.children.length>=1&&(N.children[0].style.backgroundColor="transparent",N.children[0].style.border="none",N.children[0].addEventListener("mouseover",(t=>{t.target.style.transition="all 250ms",t.target.style.backgroundColor="#ff6b08",t.target.style.borderRadius="4px"})),N.children[0].addEventListener("mouseout",(t=>{t.target.style.backgroundColor="transparent",t.target.style.borderRadius="0px"})),N.children[1].style.border="none",N.children[1].style.backgroundColor="transparent")}}}h>=1e3?setTimeout((()=>{D(c),I()}),h/10):h<1e3&&setTimeout((()=>{D(c),I()}),h),C.addEventListener("click",(function(t){if("DIV"!==t.target.nodeName){if("SPAN"===t.target.nodeName&&!t.target.classList.contains("begining-dots"))return s.Notify.info(c-S+" pages left");if("SPAN"!==t.target.nodeName&&C.children.length>0){if(!0===v)return _(`&page=${x}`),F(),void I();j.innerHTML="",f(`209b988e1e5a3c54f84bfbe290fdf3e2&page=${x}`),I();const t=sessionStorage.getItem("SCROLLPOS");h>=1e3&&setTimeout((()=>{window.scroll({top:t,x:0,behavior:"smooth"})}),h/10),h<1e3&&setTimeout((()=>{window.scroll({top:t,x:0,behavior:"smooth"})}),10*h)}}})),o("jdSc9");a=o("dCvm9"),l=o("jdSc9");var G=o("gFm7s");const B=document.querySelector("[data-modal]");p.addEventListener("click",(t=>{const e=new(0,a.Spinner)(l.opts).spin(p);if("IMG"!==t.target.tagName)return void e.stop();const n=t.target.parentNode.parentNode.dataset.film;document.querySelector(`[data-film="${n}"]`);g(n,"209b988e1e5a3c54f84bfbe290fdf3e2").then((t=>{let n="";const r=t.popularity;n=t.genres.map((t=>t.name)).join(", "),B.innerHTML="";let o=`\n    <div class="modal">\n      <button type="button" class="modal__close-btn" data-modal-close>&#10005</button>\n      <div class="modal__img">\n        <img class="modal__img-picture"\n          src=https://image.tmdb.org/t/p/w500/${t.poster_path||t.poster_path}\n          alt="obraz"/>\n      </div>\n      <div class="modal__content">\n        <h2 class="modal__head"></h2>\n        <ul class="modal__list">\n          <li class="modal__item">\n            <span class="modal__votes modal__parameters">Vote / Votes</span>\n            <div class="modal_wrapper">\n              <span class="modal__rating">${t.vote_average.toFixed(1)}</span> /\n              <span class="modal__votes-number">${t.vote_count}</span>\n            </div>\n          </li>\n          <li class="modal__item">\n            <span class="modal__popularity modal__parameters">Popularity</span>\n            <span class="modal__popularity-total">${r.toFixed(1)}</span>\n          </li>\n          <li class="modal__item">\n            <span class="modal__title modal__parameters">Original Title</span>\n            <span class="modal__title-original">${t.original_title}</span>\n          </li>\n          <li class="modal__item">\n            <span class="modal__genre modal__parameters">Genre</span>\n            <span class="modal__genre-description">${n}</span>\n          </li>\n        </ul>\n  \n        <p class="modal__about">About</p>\n        <p class="modal__text">${t.overview}</p>\n  \n        <div class="modal__button-container">\n          <button class="modal__button-watched modal__buttons" type="button">\n            ADD TO WATCHED\n          </button>\n          <button class="modal__button-queue modal__buttons" type="button">\n            ADD TO QUEUE\n          </button>\n        </div>\n        </div>\n      </div>`;B.innerHTML+=o,B.classList.toggle("is-hidden"),e.stop(),(0,G.addToWatched)(t),(0,G.addToQueue)(t);document.querySelector("[data-modal-close]").addEventListener("click",(()=>{B.classList.add("is-hidden")})),document.addEventListener("keydown",(t=>{"Escape"===t.key&&B.classList.add("is-hidden")}))})).catch((t=>console.log(t)))})),o("gFm7s");const z=document.getElementById("btn-watched"),U=document.getElementById("btn-queue");null!==z&&z.addEventListener("click",(U.classList.replace("btn-orange","btn-white"),U.classList.remove("btn-active"),z.classList.replace("btn-white","btn-orange"),void z.classList.add("btn-active"))),null!==U&&U.addEventListener("click",(U.classList.replace("btn-orange","btn-white"),U.classList.remove("btn-active"),z.classList.replace("btn-white","btn-orange"),void z.classList.add("btn-active"))),o("6mpqm");
//# sourceMappingURL=index.46d87eed.js.map
