!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},a={},o=t.parcelRequire3e4d;null==o&&((o=function(n){if(n in e)return e[n].exports;if(n in a){var t=a[n];delete a[n];var o={id:n,exports:{}};return e[n]=o,t.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(n,t){a[n]=t},t.parcelRequire3e4d=o),o("ljA1m");var s=o("eZ7d6"),l=o("2TvXO"),i=o("b62ED"),r=o("85mSR"),d=o("ipPc5"),c=document.getElementById("movie-list-library"),p=document.querySelector("[data-modal]");function u(){return(u=n(s)(n(l).mark((function t(e,a){var o,s;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(a));case 2:if((o=n.sent).ok){n.next=5;break}throw new Error(o.statusText);case 5:return n.next=7,o.json();case 7:return s=n.sent,n.abrupt("return",s);case 9:case"end":return n.stop()}}),t)})))).apply(this,arguments)}c.addEventListener("click",(function(n){var t=new(0,i.Spinner)(r.opts).spin(c);if("IMG"===n.target.tagName){var e=n.target.parentNode.parentNode.dataset.film,a=document.querySelector('[data-film="'.concat(e,'"]'));console.log(a),function(n,t){return u.apply(this,arguments)}(e,"209b988e1e5a3c54f84bfbe290fdf3e2").then((function(n){console.log(n);var e,a=n.popularity;e=n.genres.map((function(n){return n.name})).join(", "),console.log(a),p.innerHTML="";var o='\n    <div class="modal">\n      <button type="button" class="modal__close-btn" data-modal-close>&#10005</button>\n      <div class="modal__img">\n        <img class="modal__img-picture"\n          src=https://image.tmdb.org/t/p/w500/'.concat(n.poster_path||n.poster_path,'\n          alt="obraz"/>\n      </div>\n      <div class="modal__content">\n        <h2 class="modal__head"></h2>\n        <ul class="modal__list">\n          <li class="modal__item">\n            <span class="modal__votes modal__parameters">Vote / Votes</span>\n            <div class="modal_wrapper">\n              <span class="modal__rating">').concat(n.vote_average.toFixed(1),'</span> /\n              <span class="modal__votes-number">').concat(n.vote_count,'</span>\n            </div>\n          </li>\n          <li class="modal__item">\n            <span class="modal__popularity modal__parameters">Popularity</span>\n            <span class="modal__popularity-total">').concat(a.toFixed(1),'</span>\n          </li>\n          <li class="modal__item">\n            <span class="modal__title modal__parameters">Original Title</span>\n            <span class="modal__title-original">').concat(n.original_title,'</span>\n          </li>\n          <li class="modal__item">\n            <span class="modal__genre modal__parameters">Genre</span>\n            <span class="modal__genre-description">').concat(e,'</span>\n          </li>\n        </ul>\n  \n        <p class="modal__about">About</p>\n        <p class="modal__text">').concat(n.overview,'</p>\n  \n        <div class="modal__button-container">\n          <button class="modal__button-watched modal__buttons" type="button">\n            ADD TO WATCHED\n          </button>\n          <button class="modal__button-queue modal__buttons" type="button">\n            ADD TO QUEUE\n          </button>\n        </div>\n        </div>\n      </div>');p.innerHTML+=o,p.classList.toggle("is-hidden"),t.stop(),(0,d.addToWatched)(n),(0,d.addToQueue)(n),document.querySelector("[data-modal-close]").addEventListener("click",(function(){p.classList.add("is-hidden")})),document.addEventListener("keydown",(function(n){"Escape"===n.key&&p.classList.add("is-hidden")}))})).catch((function(n){return console.log(n)}))}else t.stop()}))}();
//# sourceMappingURL=library.f3fa79bd.js.map
